body
    position: relative

.virtual-tour
    absolute left top
    right: 0
    bottom: 0
    z-index: $z-index - 3

    &__backdrop
        absolute left top
        bottom: 0
        right 0
        z-index: $z-index - 2
        background-color: $backdrop-bg
        opacity: 0
        transition: opacity 300ms ease

        &.is-visible
            opacity: 1

    &__underlay
        box-sizing: content-box
        position: absolute
        z-index: $z-index - 1
        border-radius: $underlay-padding
        padding: $underlay-padding
        transform: translate($underlay-padding * -1, $underlay-padding * -1)
        background-color: $underlay-bg
        box-shadow: 0 0 5px $backdrop-bg
        opacity: 0
        transition: opacity 200ms ease, transform 300ms ease-out

        &.is-visible
            opacity: 1

    &__tooltip-pin.tooltip-pin
        z-index: $z-index

        .tooltip-pin
            &__inner
                box-shadow: 0 0 5px 0 $backdrop-bg

            &__title
                height: 2rem
                font-size: 1.25rem
                line-height: 2rem
                padding: .5rem 1.8rem .5rem .5rem
                margin: 0
                border-bottom: 1px solid darken($tooltip-bg, 20%)
                white-space: nowrap
                overflow: hidden
                text-overflow: ellipsis

            &__close
                top: 0.85rem

            &__message
                margin: 0
                font-size: 1rem
                line-height: 1.5rem
                max-height: 5.75rem
                padding: .5rem
                flex-grow: 1
                overflow: auto

            &__buttons
                border-top: 1px solid darken($tooltip-bg, 20%)
                padding: .5rem

            &__button
                padding: 0
                
                &.is-skip
                    float right

*.has-tooltip
    position: relative
    z-index: $z-index - 1 !important